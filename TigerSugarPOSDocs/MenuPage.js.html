<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: MenuPage.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: MenuPage.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, { useState, useEffect } from "react";
import "./MenuPage.css";

/**
 * Represents a collection of information about drink images.
 * @type {Object&lt;string, string>}
 */
const drinkInfo = {
  "BobaMilkPearlJellyMousse": "Images/BlackTeaBrownSugar.png",
  "BobaRedBeanMilk": "Images/BlackTeaLatte.png",
  "BobaOolongTea" : "Images/GoldenOolongBrownSugar.png",
  "BobaVanillaBlackTea" : "Images/VanillaBlackTeaBrownSugar.png",
  "BobaBlackTeaMilk" : "Images/GreenTeaBrownSugar.png",
  "BobaMangoMilk" : "Images/GoldenOolongTeaTigerFoam.png",
  "BobaTaroPuddingMousse" : "Images/GoldenOolongBrownSugar.png",
  "BobaStrawberryMilkMousse" : "Images/GoldenOolongTeaTigerFoam.png",
  "BobaDarkChocolateMilkPearl" : "Images/BrownSugarBobaMilkWithChocolateMalt.png",
  "BobaBrownSugarIceCream" : "Images/GreenTeaLatte.png",
  "BobaLycheeBlackTea" : "Images/VanillaBlackTeaBrownSugar.png",
  "BobaThaiTeaMilk" : "Images/BlackTeaLatte.png",
  "BobaMilkPearlChocolateMousse" : "Images/BrownSugarBobaMilkWithChocolateMalt.png",
  "BobaMilkPearlMousse" : "Images/GreenTeaBrownSugar.png",
  "BobaCoffeeMilkPearlMousse" : "Images/BrownSugarBobaMilkWithEspresso.png",
  "BobaMilkBrownSugarMousse" : "Images/VanillaBlackTea.png",
  "BobaPuddingMilk" : "Images/GreenTeaLatte.png",
  "BobaPuddingMouse" : "Images/BrownSugarBobaMilkWithEspresso.png"
}

/**
 * Represents a collection of drink names.
 * @type {Object&lt;string, string>}
 */
const drinkNames = {
  "BobaMilkPearlJellyMousse": "Pearl Bliss",
  "BobaRedBeanMilk": "Red Velvet",
  "BobaOolongTea": "Oolong Delight",
  "BobaVanillaBlackTea": "Vanilla Sunset",
  "BobaBlackTeaMilk": "Classic Blend",
  "BobaMangoMilk": "Mango Tango",
  "BobaTaroPuddingMousse": "Taro Dream",
  "BobaStrawberryMilkMousse": "Strawberry Elegance",
  "BobaDarkChocolateMilkPearl": "Choco Fantasy",
  "BobaBrownSugarIceCream": "Sugar Rush",
  "BobaLycheeBlackTea": "Lychee Fusion",
  "BobaThaiTeaMilk": "Thai Harmony",
  "BobaMilkPearlChocolateMousse": "Choco Pearl Delight",
  "BobaMilkPearlMousse": "Creamy Pearl",
  "BobaCoffeeMilkPearlMousse": "Coffee Bliss",
  "BobaMilkBrownSugarMousse": "Brown Sugar Bliss",
  "BobaPuddingMilk": "Pudding Paradise",
  "BobaPuddingMouse": "Pudding Delight",
};

/**
 * Formats an ingredient string by excluding certain words and capitalizing the first letter of each word.
 * @param {string} ingredientString - The input ingredient string.
 * @returns {string} The formatted ingredient string.
 */
function formatIngredient(ingredientString) {
  const excludedWords = ['cup', 'straw', 'ice', 'napkin'];

  const words = ingredientString.split('-');

  const formattedIngredients = words
    .filter((word) => !excludedWords.includes(word))
    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))
    .join(', ');

  return formattedIngredients;
}

/**
 * React component for the Menu Page.
 * @component
 */
function MenuPage() {
  /**
   * State hook to store the result of a query.
   * @type {[Array&lt;Object>, function]}
   */
  const [queryResult, setQueryResult] = useState([]);
  /**
   * State hook to manage the content of the popup.
   * @type {[Object, function]}
   */
  const [popupContent, setPopupContent] = useState(null);

  /**
   * Opens a popup with the specified content.
   * @param {Object} content - The content to be displayed in the popup.
   */
  const openPopup = (content) => {
    setPopupContent(content);
  };

  /**
   * Runs a query on the server and updates the query result state.
   * @async
   * @param {string} query - The query to be executed.
   */
  const runQuery = async (query) => {
    try {
      // const response = await fetch(`http://localhost:8000/run-query?query=${encodeURIComponent(query)}`);
      const response = await fetch(`https://tiger-sugar-backend.onrender.com/run-query?query=${encodeURIComponent(query)}`);
      const data = await response.json();
      setQueryResult(data.result);
    } catch (error) {
      console.error('Error running query:', error);
    }
  };

  /**
   * Fetches drink ingredients from the database on component mount.
   */
  useEffect(() => {
    const ingredientsQuery = 'SELECT * FROM drinks';
    runQuery(ingredientsQuery);
  }, []);

  return (
    &lt;div className="MenuPage">
      &lt;br />
      &lt;h1>Tiger Sugar Menu&lt;/h1>
      &lt;br />
      {queryResult.length > 0 ? (
        &lt;div className="grid-container">
          {queryResult.map((row, rowIndex) => (
            &lt;div key={rowIndex} className="grid-item">
              &lt;div className="left-content">
                {Object.entries(row).map(([key, value], index) => (
                  &lt;div key={index}>
                    {key === 'drinkname' &amp;&amp; &lt;h2>{drinkNames[value] || value}&lt;/h2>}
                    {key === 'ingredients' &amp;&amp; &lt;p>{formatIngredient(value) || value}&lt;/p>}
                    {key === 'drinkcost' &amp;&amp; &lt;p>${value}&lt;/p>}
                    {key === 'calories' &amp;&amp; &lt;p>{value} Calories&lt;/p>}
                  &lt;/div>
                ))}
                {/* Button to trigger the popup */}
                {/* &lt;div>
                  &lt;button onClick={() => openPopup(row)}>Show Details&lt;/button>
                &lt;/div> */}
              &lt;/div>
              &lt;div className="right-content">
                {row.drinkname &amp;&amp; (
                  &lt;img
                    src={drinkInfo[row.drinkname]  || 'Images/comingSoon.jpg'}
                    alt={row.drinkname}
                  />
                )}
              &lt;/div>
            &lt;/div>
          ))}
        &lt;/div>
      ) : (
        &lt;p>No query result found&lt;/p>
      )}

      &lt;br />

      {/* Popup to display detailed information */}
      {popupContent &amp;&amp; (
        &lt;div className="popup">
          &lt;div className="popup-content">
            {Object.entries(popupContent).map(([key, value], index) => (
              &lt;div key={index}>
                &lt;p>{key}: {value}&lt;/p>
              &lt;/div>
            ))}
            &lt;button onClick={() => setPopupContent(null)}>Close&lt;/button>
          &lt;/div>
        &lt;/div>
      )}
    &lt;/div>
  );
}

export default MenuPage;</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#BottomBar">BottomBar</a></li><li><a href="global.html#CashierPage">CashierPage</a></li><li><a href="global.html#CustomerPage">CustomerPage</a></li><li><a href="global.html#LandingPage">LandingPage</a></li><li><a href="global.html#Login">Login</a></li><li><a href="global.html#ManagerPage">ManagerPage</a></li><li><a href="global.html#MenuPage">MenuPage</a></li><li><a href="global.html#NavBar">NavBar</a></li><li><a href="global.html#TextToSpeech">TextToSpeech</a></li><li><a href="global.html#Translate">Translate</a></li><li><a href="global.html#View1">View1</a></li><li><a href="global.html#View2">View2</a></li><li><a href="global.html#View3">View3</a></li><li><a href="global.html#View4">View4</a></li><li><a href="global.html#WeatherComponent">WeatherComponent</a></li><li><a href="global.html#ZoomContext">ZoomContext</a></li><li><a href="global.html#ZoomProvider">ZoomProvider</a></li><li><a href="global.html#addDrinkToOrder">addDrinkToOrder</a></li><li><a href="global.html#addedList">addedList</a></li><li><a href="global.html#addonsList">addonsList</a></li><li><a href="global.html#clientId">clientId</a></li><li><a href="global.html#closePopup">closePopup</a></li><li><a href="global.html#closePopupDrink">closePopupDrink</a></li><li><a href="global.html#currentOrder">currentOrder</a></li><li><a href="global.html#currentView">currentView</a></li><li><a href="global.html#displayNames">displayNames</a></li><li><a href="global.html#drinkCost">drinkCost</a></li><li><a href="global.html#drinkInfo">drinkInfo</a></li><li><a href="global.html#drinkIngredients">drinkIngredients</a></li><li><a href="global.html#drinkNames">drinkNames</a></li><li><a href="global.html#drinks">drinks</a></li><li><a href="global.html#editDrink">editDrink</a></li><li><a href="global.html#editIndex">editIndex</a></li><li><a href="global.html#executedQuery">executedQuery</a></li><li><a href="global.html#formatIngredient">formatIngredient</a></li><li><a href="global.html#getColumnTitle">getColumnTitle</a></li><li><a href="global.html#getWeatherData">getWeatherData</a></li><li><a href="global.html#handleCheckout">handleCheckout</a></li><li><a href="global.html#handleChipClick">handleChipClick</a></li><li><a href="global.html#handleDrinkUpdate">handleDrinkUpdate</a></li><li><a href="global.html#handleInputChange">handleInputChange</a></li><li><a href="global.html#ingredients">ingredients</a></li><li><a href="global.html#inputValue">inputValue</a></li><li><a href="global.html#isNewDrink">isNewDrink</a></li><li><a href="global.html#newDrink">newDrink</a></li><li><a href="global.html#newDrinkNameAndPrice">newDrinkNameAndPrice</a></li><li><a href="global.html#openPopup">openPopup</a></li><li><a href="global.html#openPopupDrink">openPopupDrink</a></li><li><a href="global.html#popupContent">popupContent</a></li><li><a href="global.html#queryResultA">queryResultA</a></li><li><a href="global.html#queryResultB">queryResultB</a></li><li><a href="global.html#queryResultC">queryResultC</a></li><li><a href="global.html#removeDrinkFromOrder">removeDrinkFromOrder</a></li><li><a href="global.html#runQuery">runQuery</a></li><li><a href="global.html#selectedList">selectedList</a></li><li><a href="global.html#showPopup">showPopup</a></li><li><a href="global.html#totalCost">totalCost</a></li><li><a href="global.html#useEffect">useEffect</a></li><li><a href="global.html#useZoom">useZoom</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Tue Dec 05 2023 23:46:12 GMT-0600 (Central Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
